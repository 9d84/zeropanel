"use strict";var KTSignupGeneral=function(){var e,t,r,s,a=function(a){r=FormValidation.formValidation(e,{fields:{email:{validators:{regexp:{regexp:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"The value is not a valid email address"},notEmpty:{message:"Email address is required"}}},password:{validators:{notEmpty:{message:"The password is required"},callback:{message:"Please enter valid password",callback:function(e){if(e.value.length<8)return i()}}}},"confirm-password":{validators:{notEmpty:{message:"The password confirmation is required"},identical:{compare:function(){return e.querySelector('[name="password"]').value},message:"The password and its confirm are not the same"}}}},plugins:{trigger:new FormValidation.plugins.Trigger({event:{password:!1}}),bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row",eleInvalidClass:"",eleValidClass:""})}}),t.addEventListener("click",function(a){if(a.preventDefault(),r.revalidateField("password"),!0==$("div").is(".cf-turnstile"))var i={email:$("#email").val(),passwd:$("#passwd").val(),repasswd:$("#repasswd").val(),code:$("#code").val(),turnstile:turnstile.getResponse()};else i={email:$("#email").val(),passwd:$("#passwd").val(),repasswd:$("#repasswd").val(),code:$("#code").val()};r.validate().then(function(r){"Valid"==r?(t.setAttribute("data-kt-indicator","on"),t.disabled=!0,setTimeout(function(){$.ajax({method:"POST",url:"/auth/signup",dataType:"json",data:i,success:function(r){1==r.ret?Swal.fire({text:r.msg,icon:"success",buttonsStyling:!1,confirmButtonText:"Ok",customClass:{confirmButton:"btn btn-primary"}}).then(function(t){if(t.isConfirmed){e.reset(),s.reset();var r=e.getAttribute("data-kt-redirect-url");r&&(location.href=r)}}):(Swal.fire({text:r.msg,icon:"error",buttonsStyling:!1,confirmButtonText:"Ok",customClass:{confirmButton:"btn btn-primary"}}),t.removeAttribute("data-kt-indicator"),t.disabled=!1)}})},1500)):Swal.fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})})}),e.querySelector('input[name="password"]').addEventListener("input",function(){this.value.length<8&&r.updateFieldStatus("password","NotValidated")})},i=function(){return 100===s.getScore()};return{init:function(){e=document.querySelector("#kt_sign_up_form"),t=document.querySelector("#kt_sign_up_submit"),s=KTPasswordMeter.getInstance(e.querySelector('[data-kt-password-meter="true"]')),a()}}}();function getQueryVariable(e){for(var t=window.location.search.substring(1).split("&"),r=0;r<t.length;r++){var s=t[r].split("=");if(s[0]==e)return s[1]}return""}function setCookie(e,t,r){var s=new Date;s.setTime(s.getTime()+864e5*r);var a="expires="+s.toGMTString();document.cookie=e+"="+t+"; "+a}function getCookie(e){for(var t=e+"=",r=document.cookie.split(";"),s=0;s<r.length;s++){var a=r[s].trim();if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}KTUtil.onDOMContentLoaded(function(){KTSignupGeneral.init()});